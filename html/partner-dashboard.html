<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>íŒŒíŠ¸ë„ˆ ëŒ€ì‹œë³´ë“œ - TROY</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../css/./partner-dashboard.css" />
    <!-- ê³µí†µ ëŒ€ì‹œë³´ë“œ ìŠ¤íƒ€ì¼ -->
    <link rel="stylesheet" href="../css/dashboard-common.css" />
    <link rel="stylesheet" href="../css/notice-board-component.css" />
    <link rel="stylesheet" href="../css/service-intro.css" />
    <link rel="stylesheet" href="../css/service-info-component.css" />
    <!-- ìº í˜ì¸ ê´€ë¦¬ ìŠ¤íƒ€ì¼ -->
    <link rel="stylesheet" href="../css/campaign-management.css" />
  </head>
  <body>
    <div class="dashboard-container">
      <!-- ì‚¬ì´ë“œë°” -->
      <div class="sidebar">
        <div class="logo-section">
          <div class="logo" onclick="goToHome()" style="cursor: pointer">
            TROY
          </div>
          <div class="company-name">íŠ¸ë¡œì´ ì¸í„°ë‚´ì…”ë„</div>
        </div>

        <div class="user-info">
          <div class="user-name">íŒŒíŠ¸ë„ˆë‹˜</div>
          <div class="user-role">íŒŒíŠ¸ë„ˆ</div>
        </div>

        <button class="new-campaign-btn" onclick="openCampaignCreateModal()">
          <strong>ìƒˆë¡œìš´ ìº í˜ì¸ ë“±ë¡</strong>
          <div id="container-stars">
            <div id="stars"></div>
          </div>
          <div id="glow">
            <div class="circle"></div>
            <div class="circle"></div>
          </div>
        </button>

        <div class="partner-menu-section">
          <div class="menu-item" onclick="loadNoticeBoard()">ê³µì§€ì‚¬í•­</div>
          <div
            class="menu-item"
            data-menu="service-intro"
            onclick="loadServiceInfo()"
          >
            ì„œë¹„ìŠ¤ ì†Œê°œ
          </div>
        </div>

        <div class="partner-menu-section">
          <div class="menu-title">íŒŒíŠ¸ë„ˆ ê´€ë¦¬</div>
          <div class="menu-item" onclick="loadPartnerCampaignManagement()">
            ìº í˜ì¸ ê´€ë¦¬
          </div>
          <div class="menu-item" onclick="loadPartnershipStatus()">
            íŒŒíŠ¸ë„ˆì‹­ í˜„í™©
          </div>
          <div class="menu-item" onclick="loadPartnerScheduleManagement()">
            ìŠ¤ì¼€ì¤„ ê´€ë¦¬
          </div>
          <div class="menu-item" onclick="loadPartnerHierarchy()">
            í•˜ìœ„ íŒŒíŠ¸ë„ˆì‚¬ ê´€ë¦¬
          </div>
        </div>

        <div class="partner-menu-section">
          <div class="menu-title">ê³ ê°ì§€ì›</div>
          <div class="menu-item" onclick="loadPartnerSupport()">1:1 ë¬¸ì˜</div>
        </div>

        <div class="partner-menu-section">
          <div class="menu-title">ê³„ì •ê´€ë¦¬</div>
          <div class="menu-item" onclick="loadPartnerPaymentHistory()">
            ê²°ì œë‚´ì—­
          </div>
          <div class="menu-item" onclick="loadPartnerPaymentSettlement()">
            ì •ì‚°
          </div>
          <div class="menu-item" onclick="loadPartnerMyInfo()">ë‚˜ì˜ ì •ë³´</div>
        </div>

        <div
          class="logout"
          onclick="window.location.href='/'"
          style="cursor: pointer"
        >
          ë¡œê·¸ì•„ì›ƒ
        </div>
      </div>

      <!-- ë©”ì¸ ì½˜í…ì¸  -->
      <div class="main-content" id="main-content-container">
        <!-- ë™ì ìœ¼ë¡œ ë¡œë“œë  ì½˜í…ì¸  -->
      </div>
    </div>

    <!-- ì±„íŒ… ìƒë‹´ ë²„íŠ¼
    <div class="chat-button">
      <div class="chat-icon">ğŸ’¬</div>
      <div class="chat-text">ì±„íŒ… ìƒë‹´</div>
    </div> -->

    <!-- ê³µí†µ ëŒ€ì‹œë³´ë“œ ìŠ¤í¬ë¦½íŠ¸ -->
    <script src="../js/dashboard-common.js"></script>
    <script src="../js/components/campaign-management.js"></script>
    <script>
      // ì¦‰ì‹œ ì‹¤í–‰
      if (typeof ensureRoleSessionToken === "function")
        ensureRoleSessionToken();
      if (typeof updateSidebarNameFromProfile === "function")
        updateSidebarNameFromProfile();

      // DOM ë¡œë“œ í›„ì—ë„ ì‹¤í–‰ (ì•ˆì „ì¥ì¹˜)
      document.addEventListener("DOMContentLoaded", function () {
        if (typeof ensureRoleSessionToken === "function")
          ensureRoleSessionToken();
        if (typeof updateSidebarNameFromProfile === "function")
          updateSidebarNameFromProfile();

        // íŒŒíŠ¸ë„ˆì‚¬ ëŒ€ì‹œë³´ë“œ ì´ˆê¸° ë¡œë”© ì‹œ ìº í˜ì¸ ê´€ë¦¬ í™”ë©´ ìë™ ë¡œë“œ
        if (typeof loadPartnerCampaignManagement === "function") {
          loadPartnerCampaignManagement();
        }
      });
    </script>
    <script src="../js/./partner-dashboard.js"></script>
  </body>
</html>
